<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Arrivals | Miki &amp; Yi Jie</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Allura&family=Cedarville+Cursive&family=Cormorant+Garamond:wght@500;600;700&family=Inter:wght@400;500;600&family=Nanum+Pen+Script&family=Noto+Serif+TC:wght@400;500;600;700&family=Single+Day&display=swap"
      rel="stylesheet"
      media="print"
      onload="this.media='all'"
    />
    <noscript>
      <link
        href="https://fonts.googleapis.com/css2?family=Allura&family=Cedarville+Cursive&family=Cormorant+Garamond:wght@500;600;700&family=Inter:wght@400;500;600&family=Nanum+Pen+Script&family=Noto+Serif+TC:wght@400;500;600;700&family=Single+Day&display=swap"
        rel="stylesheet"
      />
    </noscript>
    <link rel="icon" href="/favicon.svg" type="image/svg+xml" />
    <link rel="stylesheet" href="/styles.css?v=20260223-arrivals-header-sync1" />
    <style>
      html,
      body {
        margin: 0;
        min-height: 100%;
        background: var(--maroon) !important;
      }
      .arrivals-shell {
        min-height: 100svh;
        background: var(--maroon);
        display: flex;
        flex-direction: column;
      }
      .arrivals-shell__main {
        flex: 1 0 auto;
        width: 100%;
        max-width: min(1400px, 96vw);
        margin: 0 auto;
        padding: calc(var(--headerH) + 43px) clamp(8px, 1.2vw, 16px) clamp(12px, 2vw, 20px);
        box-sizing: border-box;
      }
      .arrivalsShell {
        background: transparent;
        border: none;
        border-radius: 0;
        box-shadow: none;
        padding: 0;
        margin: 0 auto;
        width: 100%;
        max-width: none;
        box-sizing: border-box;
      }
      .arrivalsTrackerRoot {
        border-radius: 18px;
        overflow: hidden;
        background: transparent;
      }
      .arrivals-shell__frame {
        border: none;
        border-radius: 18px;
        overflow: hidden;
        box-shadow: none;
      }
      .arrivals-shell__iframe {
        display: block;
        width: 100%;
        height: auto;
        min-height: 0;
        border: 0;
        background: #090807;
        overflow: visible;
      }
      @media (min-width: 1024px) {
        .arrivals-shell__main {
          padding-top: calc(var(--headerH) + 39px);
        }
      }
      @media (max-width: 900px) {
        .arrivals-shell__main {
          max-width: 100%;
          padding: calc(var(--headerH) + 39px) 10px 14px;
        }
      }
      @media (max-width: 768px) {
        .arrivals-shell__main {
          padding: calc(var(--headerH) + 37px) 8px 12px;
        }
      }
    </style>
  </head>
  <body class="arrivals-shell">
    <header id="floatingHeader" class="floating-header" aria-label="Site navigation">
      <div class="header-pill">
        <a class="brand" href="/" aria-label="Go to home page">
          <span class="brand-pill" aria-hidden="true">
            <span class="brand-wordmark" aria-hidden="true">
              <span class="brand-wordmark-core">M</span><span class="brand-wordmark-rest brand-wordmark-rest--m">iki</span>
              <span class="brand-wordmark-amp amp-fancy">&amp;</span>
              <span class="brand-wordmark-core">Y</span><span class="brand-wordmark-rest brand-wordmark-rest--y">i Jie</span>
            </span>
          </span>
          <span class="sr-only">Miki &amp; Yi Jie</span>
        </a>

        <button id="menuToggle" class="menu-toggle" aria-expanded="false" aria-controls="mobileNavSheet" aria-label="Open menu">☰</button>

        <nav class="desktop-nav" aria-label="Primary">
          <a href="/">Home</a>
          <a href="/#story">Our story</a>
          <a href="/#venue">Venue</a>
          <a href="/#schedule">Schedule</a>
          <div id="desktopNavMore" class="desktop-nav-more">
            <button
              id="desktopMoreToggle"
              class="desktop-nav-more-toggle"
              type="button"
              aria-haspopup="menu"
              aria-expanded="false"
              aria-controls="desktopMoreMenu"
            >
              More
            </button>
            <div id="desktopMoreMenu" class="desktop-nav-more-menu" role="menu" hidden>
              <a href="/#faq" role="menuitem">FAQ</a>
              <a href="/#stay" role="menuitem">Where to stay</a>
              <a href="/#things-to-do" role="menuitem">Things to do</a>
              <a href="/#makan" role="menuitem">What to eat</a>
              <a href="/#travel-visa" role="menuitem">Travel &amp; Visa</a>
              <a href="/#gallery" role="menuitem">Recent moments</a>
              <a href="/arrivals/" role="menuitem" class="nav-live-link"
                >Live Arrivals
                <span class="live-pill" aria-hidden="true"><span class="live-dot"></span>Live</span>
              </a>
              <a href="/guest-wall" role="menuitem">Guest Wall</a>
            </div>
          </div>
        </nav>

        <a class="header-rsvp" href="/#rsvp">RSVP</a>
      </div>
    </header>

    <aside id="mobileNavSheet" class="mobile-sheet" aria-label="Mobile menu">
      <nav class="mobile-nav">
        <a href="/">Home</a>
        <a href="/#story">Our story</a>
        <a href="/#venue">Venue</a>
        <a href="/#schedule">Schedule</a>
        <a href="/#rsvp">RSVP</a>
        <a href="/#faq">FAQ</a>
        <a href="/#stay">Where to stay</a>
        <a href="/#things-to-do">Things to do</a>
        <a href="/#makan">What to eat</a>
        <a href="/#travel-visa">Travel &amp; Visa</a>
        <a href="/#gallery">Recent moments</a>
        <a href="/arrivals/" class="nav-live-link"
          >Live Arrivals
          <span class="live-pill" aria-hidden="true"><span class="live-dot"></span>Live</span>
        </a>
        <a href="/guest-wall">Guest Wall</a>
      </nav>
    </aside>

    <main class="arrivals-shell__main">
      <div class="arrivalsShell">
        <div class="arrivalsTrackerRoot">
          <section class="arrivals-shell__frame" aria-label="Live Arrivals Tracker">
            <iframe
              id="arrivalsTrackerFrame"
              class="arrivals-shell__iframe"
              src="/public/arrivals/index.html?v=20260223-title-clean1"
              title="Arrivals Tracker"
              scrolling="no"
            ></iframe>
          </section>
        </div>
      </div>
    </main>
    <footer class="site-footer">
      <div class="site-footer-inner">
        <p class="site-footer-main">
          <span class="site-footer-main-label">Questions?</span>
          <a class="site-footer-email" href="mailto:mikiandyijie.wedding.rsvp@gmail.com">mikiandyijie.wedding.rsvp@gmail.com</a>
        </p>
        <p class="site-footer-copy">© 2026 Miki &amp; Yi Jie</p>
      </div>
    </footer>
    <script>
      (() => {
        const menuToggle = document.getElementById("menuToggle");
        const mobileNavSheet = document.getElementById("mobileNavSheet");
        const desktopMoreToggle = document.getElementById("desktopMoreToggle");
        const desktopMoreMenu = document.getElementById("desktopMoreMenu");
        const floatingHeader = document.getElementById("floatingHeader");

        const closeDesktopMoreMenu = () => {
          if (!desktopMoreToggle || !desktopMoreMenu) return;
          desktopMoreToggle.setAttribute("aria-expanded", "false");
          desktopMoreMenu.hidden = true;
        };

        const openDesktopMoreMenu = () => {
          if (!desktopMoreToggle || !desktopMoreMenu) return;
          desktopMoreToggle.setAttribute("aria-expanded", "true");
          desktopMoreMenu.hidden = false;
        };

        const closeMobileMenu = () => {
          if (!menuToggle || !mobileNavSheet) return;
          menuToggle.setAttribute("aria-expanded", "false");
          mobileNavSheet.classList.remove("open");
        };

        if (menuToggle && mobileNavSheet) {
          menuToggle.addEventListener("click", () => {
            const isOpen = menuToggle.getAttribute("aria-expanded") === "true";
            menuToggle.setAttribute("aria-expanded", isOpen ? "false" : "true");
            mobileNavSheet.classList.toggle("open", !isOpen);
          });

          document.addEventListener("click", (event) => {
            const target = event.target;
            if (!(target instanceof Element)) return;
            if (target.closest("#menuToggle") || target.closest("#mobileNavSheet")) return;
            closeMobileMenu();
          });

          document.addEventListener("keydown", (event) => {
            if (event.key === "Escape") closeMobileMenu();
          });

          mobileNavSheet.querySelectorAll("a").forEach((link) => {
            link.addEventListener("click", closeMobileMenu);
          });
        }

        if (desktopMoreToggle && desktopMoreMenu) {
          desktopMoreToggle.addEventListener("click", () => {
            const isOpen = desktopMoreToggle.getAttribute("aria-expanded") === "true";
            if (isOpen) {
              closeDesktopMoreMenu();
            } else {
              openDesktopMoreMenu();
            }
          });

          desktopMoreMenu.querySelectorAll("a").forEach((link) => {
            link.addEventListener("click", closeDesktopMoreMenu);
          });
        }

        const handleGlobalClose = (event) => {
          const target = event.target;
          if (!(target instanceof Element)) return;
          if (target.closest("#menuToggle") || target.closest("#mobileNavSheet")) return;
          if (target.closest("#desktopMoreToggle") || target.closest("#desktopMoreMenu")) return;
          closeMobileMenu();
          closeDesktopMoreMenu();
        };

        document.addEventListener("click", handleGlobalClose);

        document.addEventListener("keydown", (event) => {
          if (event.key !== "Escape") return;
          closeMobileMenu();
          closeDesktopMoreMenu();
        });

        let headerIsScrolled = false;
        const SHRINK_SCROLL_Y = 40;
        const EXPAND_SCROLL_Y = 20;

        const syncHeaderBrandState = () => {
          if (!floatingHeader) return;
          const y = window.scrollY || 0;
          if (!headerIsScrolled && y > SHRINK_SCROLL_Y) headerIsScrolled = true;
          else if (headerIsScrolled && y < EXPAND_SCROLL_Y) headerIsScrolled = false;
          floatingHeader.classList.toggle("is-scrolled", headerIsScrolled);
        };

        syncHeaderBrandState();
        window.addEventListener("scroll", syncHeaderBrandState, { passive: true });

        const iframe = document.getElementById("arrivalsTrackerFrame");
        if (!iframe) return;

        let frameResizeObserver = null;
        let frameMutationObserver = null;

        const setFrameHeight = () => {
          const doc = iframe.contentDocument;
          if (!doc) return;

          const rootHeight = doc.documentElement ? doc.documentElement.scrollHeight : 0;
          const bodyHeight = doc.body ? doc.body.scrollHeight : 0;
          const nextHeight = Math.max(0, Math.ceil(Math.max(rootHeight, bodyHeight)));

          iframe.style.height = `${nextHeight}px`;
        };

        const scheduleFrameHeight = () => {
          window.requestAnimationFrame(setFrameHeight);
        };

        iframe.addEventListener("load", () => {
          setFrameHeight();
          const doc = iframe.contentDocument;
          if (!doc) return;

          if (frameResizeObserver) frameResizeObserver.disconnect();
          if (frameMutationObserver) frameMutationObserver.disconnect();

          if ("ResizeObserver" in window) {
            frameResizeObserver = new ResizeObserver(scheduleFrameHeight);
            frameResizeObserver.observe(doc.documentElement);
            if (doc.body) frameResizeObserver.observe(doc.body);
          }

          frameMutationObserver = new MutationObserver(scheduleFrameHeight);
          frameMutationObserver.observe(doc.documentElement, {
            childList: true,
            subtree: true,
            attributes: true,
            characterData: false,
          });

          window.setTimeout(setFrameHeight, 80);
          window.setTimeout(setFrameHeight, 320);
        });

        window.addEventListener("resize", scheduleFrameHeight);
      })();
    </script>
  </body>
</html>
